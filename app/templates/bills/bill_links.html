<div id="bill-links-container">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; gap: 0.5rem;">
    <h3 style="margin: 0; font-size: 1rem; color: #888;">Other accounts</h3>
    <wa-dropdown placement="bottom-end">
      <wa-button slot="trigger" variant="neutral" appearance="plain"
        ><wa-icon name="ellipsis-vertical"></wa-icon
      ></wa-button>

      <wa-dropdown-item
        onclick="
          var el = me('#bill-links-container')
          var editMode = el.attr('data-edit-mode') === 'true';
          el.attr('data-edit-mode', !editMode);
        "
      >
        <wa-icon slot="icon" name="pencil"></wa-icon>
        Toggle edit mode
      </wa-dropdown-item>
    </wa-dropdown>
  </div>
  {% if links %}
    <ul style="list-style: none; padding: 0; margin: 0 0 10px 0;">
      {% for link in links %}
        <li style="margin: 0; display: flex; align-items: center; gap: 8px;">
          <div class="reorder-buttons" style="flex-direction: column; gap: 1px;">
            <button
              hx-post="{% url 'reorder_bill_link' link.id 'up' %}"
              hx-target="#bill-links-container"
              hx-swap="outerHTML"
              style="height: auto; padding: 0; border: none; background: none; cursor: pointer; font-size: 0.7rem; line-height: 1; color: #666;"
              {% if forloop.first %}disabled style="opacity: 0; cursor: default;"{% endif %}
            >
              ▲
            </button>
            <button
              hx-post="{% url 'reorder_bill_link' link.id 'down' %}"
              hx-target="#bill-links-container"
              hx-swap="outerHTML"
              style="height: auto; padding: 0; border: none; background: none; cursor: pointer; font-size: 0.7rem; line-height: 1; color: #666;"
              {% if forloop.last %}disabled style="opacity: 0; cursor: default;"{% endif %}
            >
              ▼
            </button>
          </div>
          <a href="{{ link.url }}" target="_blank" rel="noopener noreferrer"> {{ link.label }} </a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div style="color: #888; font-size: 0.9rem; margin-bottom: 10px;">No data.</div>
  {% endif %}

  <a hx-get="{% url 'new_bill_link' %}" hx-target="body" hx-swap="beforeend"> New... </a>
</div>
