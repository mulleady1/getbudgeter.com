{% load currency %}

<div id="budget-list">
  {% if budgets %}
    <table style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr style="border-bottom: 2px solid #ddd;">
          <th style="text-align: left; padding: 0.75rem;">Category</th>
          <th style="text-align: right; padding: 0.75rem;">Budget Amount</th>
          <th style="text-align: right; padding: 0.75rem;">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for budget in budgets %}
          <tr style="border-bottom: 1px solid #eee;">
            <td style="padding: 0.75rem;">{{ budget.category.name }}</td>
            <td style="padding: 0.75rem; text-align: right; font-weight: 500;">{{ budget.amount|currency }}</td>
            <td style="padding: 0.75rem; text-align: right;">
              <wa-button
                size="small"
                appearance="plain"
                hx-get="{% url 'edit_delete_budget' budget.id %}"
                hx-target="body"
                hx-swap="beforeend"
              >
                <wa-icon name="pencil"></wa-icon>
              </wa-button>
              <wa-button
                size="small"
                appearance="plain"
                hx-delete="{% url 'edit_delete_budget' budget.id %}"
                hx-target="closest tr"
                hx-swap="outerHTML"
                hx-confirm="Are you sure you want to delete this budget?"
              >
                <wa-icon name="trash"></wa-icon>
              </wa-button>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p style="text-align: center; padding: 2rem; color: #666;">
      No budgets set for this month. Click "Add Budget" to get started.
    </p>
  {% endif %}
</div>
