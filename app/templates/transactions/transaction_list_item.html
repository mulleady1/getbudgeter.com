{% load currency %}

<tr style="border-bottom: 1px solid #eee;" data-transaction-id="{{ transaction.id }}">
  <td style="padding: 0.75rem; width: 40px;">
    <input type="checkbox" class="transaction-checkbox" value="{{ transaction.id }}" style="cursor: pointer; width: 18px; height: 18px;">
  </td>
  <td style="padding: 0.75rem;">{{ transaction.date|date:"m/d/Y" }}</td>
  <td style="padding: 0.75rem;">{{ transaction.merchant|truncatechars:30 }}</td>
  <td style="padding: 0.75rem;">{{ transaction.description|truncatechars:50 }}</td>
  <td style="padding: 0.75rem;">
    {% if transaction.category %}
      {% if transaction.category.name == "dining" %}
        <wa-badge style="--background-color: #ff6b6b; --color: white;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "groceries" %}
        <wa-badge style="--background-color: #4ecdc4; --color: white;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "shopping" %}
        <wa-badge style="--background-color: #95e1d3; --color: #333;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "transportation" %}
        <wa-badge style="--background-color: #f38181; --color: white;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "entertainment" %}
        <wa-badge style="--background-color: #aa96da; --color: white;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "utilities" %}
        <wa-badge style="--background-color: #fcbad3; --color: #333;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "healthcare" %}
        <wa-badge style="--background-color: #a8d8ea; --color: #333;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "travel" %}
        <wa-badge style="--background-color: #ffaaa5; --color: white;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "income" %}
        <wa-badge style="--background-color: #51cf66; --color: white;">{{ transaction.category.name }}</wa-badge>
      {% elif transaction.category.name == "other" %}
        <wa-badge style="--background-color: #868e96; --color: white;">{{ transaction.category.name }}</wa-badge>
      {% else %}
        {# Custom user-created category #}
        <wa-badge style="--background-color: #9c6ade; --color: white;">{{ transaction.category.name }}</wa-badge>
      {% endif %}
    {% else %}
      <wa-badge variant="neutral">Uncategorized</wa-badge>
    {% endif %}
  </td>
  <td
    style="padding: 0.75rem; text-align: right; font-weight: 500; {% if transaction.amount < 0 %}color: #d32f2f;{% else %}color: #388e3c;{% endif %}"
  >
    {{ transaction.amount|currency }}
  </td>
</tr>
